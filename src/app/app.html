<header class="top-bar">
  <div class="brand" (click)="closeMenu()">
    <a class="brand-link" [routerLink]="'/'" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
      <span class="brand-icon" aria-hidden="true">ğŸ</span>
      {{ title }}
    </a>
    <span class="tagline">PasiÃ³n por la velocidad</span>
  </div>
  <nav class="desktop-nav">
    @for (link of navLinks; track link.path) {
      <a
        class="nav-link"
        [routerLink]="link.path"
        routerLinkActive="active"
        [routerLinkActiveOptions]="link.exact ? { exact: true } : { exact: false }"
        *ngIf="!(currentUser()) || link.label !== 'Login'"
      >
        {{ link.label }}
      </a>
    }
  </nav>
  <div class="auth-area">
    <div *ngIf="currentUser()">
      <span class="nav-user">Hola, <strong>{{ currentUser()?.username }}</strong></span>
      <button class="btn btn-ghost" (click)="logout()">Cerrar sesiÃ³n</button>
    </div>
  </div>
  <button
    type="button"
    class="menu-toggle"
    (click)="toggleMenu()"
    [attr.aria-expanded]="menuOpen()"
    aria-controls="mobile-menu"
  >
    <span></span>
    <span></span>
    <span></span>
  </button>
</header>

<nav id="mobile-menu" class="mobile-nav" [ngClass]="{ open: menuOpen() }">
  @for (link of navLinks; track link.path) {
    <a
      class="nav-link"
      [routerLink]="link.path"
      routerLinkActive="active"
      [routerLinkActiveOptions]="link.exact ? { exact: true } : { exact: false }"
      (click)="closeMenu()"
      *ngIf="!(currentUser()) || link.label !== 'Login'"
    >
      {{ link.label }}
    </a>
  }
</nav>

<div class="mobile-backdrop" *ngIf="menuOpen()" (click)="closeMenu()"></div>

<main class="main-content">
  <router-outlet />
</main>

<footer class="site-footer">
  <p>Â© {{ title }} {{ currentYear }} Â· Toda la adrenalina del motorsport en un solo lugar. Marlon Steven Quintana Recinos</p>
</footer>
